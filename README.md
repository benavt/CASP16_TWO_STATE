# CASP Data Processing

This repository contains scripts and utilities for processing, analyzing, and visualizing data for the CASP (Critical Assessment of Structure Prediction) assessment. The workflow includes gathering data, processing scores, identifying missing data points, and generating plots and summary files.

## Directory Structure

```
CASP_DATA_PROCESSING/
├── DATA/      # Contains gathered data files (input for processing)
├── OUTPUT/    # Output CSVs and summary files generated by scripts
├── PLOTS/     # Generated plots and visualizations
├── gather_data.py
├── process_two_state_score.py
├── find_missing_datapoints.py
```

## Prerequisites

- Python 3.7+
- Required Python packages:
  - pandas
  - matplotlib
  - adjustText
  - tqdm

Install dependencies with:
```bash
pip install pandas matplotlib adjustText tqdm
```

## Script Overview

### 1. `gather_data.py`
Copies output files from the CASP assessment targets into the local `DATA/` directory.

- **Usage:**
  ```bash
  python gather_data.py
  ```
- **Note:**
  - Expects the source data in `../Casp_assessment/Targets/<TARGET>/Output/` relative to the script location.
  - TARGETS are hardcoded in the script.

### 2. `process_two_state_score.py`
Processes the gathered data to compute two-state scores for each target and score type, generates summary CSVs in `OUTPUT/`, and creates scatter and bar plots in `PLOTS/`.

- **Usage:**
  ```bash
  python process_two_state_score.py
  ```
- **Note:**
  - The script automatically processes all targets and score types defined in `TARGET_SCORE_DICT`.
  - Input files are expected in `DATA/`.
  - Output CSVs and plots are saved in `OUTPUT/` and `PLOTS/` respectively.

### 3. `find_missing_datapoints.py`
Scans the `OUTPUT/` directory for missing score data points in the generated CSVs and prints a summary to the console.

- **Usage:**
  ```bash
  python find_missing_datapoints.py
  ```
- **Note:**
  - Only checks files with prefixes `T1228`, `T1239`, `T1249`.
  - Looks for zero values in the columns: `v1_v1_Score`, `v1_v2_Score`, `v2_v1_Score`, `v2_v2_Score`.

## Workflow

1. **Gather Data:**
   - Run `gather_data.py` to collect all necessary data files into `DATA/`.
2. **Process Scores:**
   - Run `process_two_state_score.py` to generate summary CSVs and plots.
3. **Check for Missing Data:**
   - Run `find_missing_datapoints.py` to identify any missing or zeroed data points in the outputs.

## License

This project is intended for research and assessment purposes. Please contact the repository owner for licensing details.
